@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
  /* ✅ NEU: Globale Highlight-Farbe hinzugefügt */
  --primary-highlight: #188BDB; 
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
    /* Du könntest hier auch eine dunkle Version der Highlight-Farbe definieren */
    /* --primary-highlight: #SOME_DARKER_BLUE; */
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}


/* --- START: VERBESSERTE PRINT STYLES FÜR PDF-EXPORT --- */
@media print {
  
  /* 1. Seiten-Setup */
  @page {
    size: A4 portrait; /* A4 Hochformat */
    margin: 1cm; /* Kleinerer Rand */
  }

  /* 2. Grund-Layout */
  body {
    background: #fff !important;
    color: #000 !important;
    font-size: 9pt; /* Kleinere Schrift für mehr Inhalt */
    -webkit-print-color-adjust: exact !important; /* Erzwingt Farbdruck */
    print-color-adjust: exact !important;
  }

  /* 3. Layout-Container zurücksetzen (volle Breite) */
  main, 
  .p-4, .p-6, .p-8, 
  .max-w-7xl, .max-w-4xl, .max-w-3xl,
  .container {
    max-width: 100% !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* 4. ALLES ausblenden, was nicht gedruckt werden soll */
  header, 
  nav, 
  footer, 
  button, 
  .print\\:hidden, 
  [role="tooltip"],
  .absolute.top-3.right-3.z-10 /* Info-Tooltips auf KPI-Karten */
  {
    display: none !important;
  }
  
  /* 5. Dashboard-Header (Titel) explizit anzeigen, aber optimieren */
  /* Zielt auf den Header in ProjectDashboard.tsx & page.tsx */
  .bg-white.rounded-lg.shadow-md.border.border-gray-200.p-6 {
     display: block !important;
     box-shadow: none !important;
     border: none !important;
     border-bottom: 2px solid #ccc !important; /* Saubere Trennlinie */
     padding: 0 !important;
     margin-bottom: 10px !important;
     page-break-after: avoid !important; /* Nicht vom ersten Grid trennen */
  }
  
  /* 6. Alle Karten & Sektionen (Generische Stile) */
  .bg-white, .bg-gray-50, 
  .shadow-md, .shadow-lg, 
  .border, .rounded-lg, .rounded-t-lg, .rounded-b-lg {
    box-shadow: none !important;
    border: 1px solid #ddd !important;
    background: #fff !important;
    overflow: hidden; /* Verhindert seltsames Überlappen */
  }

  /* 7. Grid-Layouts aggressiv auflösen (Das ist der wichtigste Fix) */
  .grid, 
  .grid-cols-1, 
  .md\\:grid-cols-2, 
  .lg\\:grid-cols-2, 
  .lg\\:grid-cols-4, 
  .xl\\:grid-cols-3,
  .xl\\:col-span-1,
  .xl\\:col-span-2 {
    display: block !important; /* ALLES untereinander anordnen */
    grid-template-columns: 1fr !important; /* Sicherheitshalber */
    width: 100% !important;
  }

  /* 8. Seitenumbrüche KONTROLLIEREN */
  
  /* Jede "Sektion" (Karte, Chart) soll nicht zerrissen werden */
  .bg-white.rounded-lg.shadow-md,
  .bg-white.p-4.rounded-lg.shadow-md,
  .bg-white.p-6.rounded-lg.shadow-md,
  .bg-white.rounded-lg.shadow-md.border,
  .bg-white.rounded-lg.shadow-md.border.border-gray-200,
  .kpi-card-wrapper /* Wir fügen diese Klasse gleich hinzu */
  {
    page-break-inside: avoid !important;
    margin-top: 15px !important; /* Abstand zwischen den Blöcken im Druck */
  }

  /* 9. Charts */
  .recharts-responsive-container {
    width: 100% !important;
    height: 250px !important; /* Feste, kleinere Höhe für Druck */
  }

  /* 10. Tabellen */
  table {
    width: 100% !important;
    border-collapse: collapse !important;
  }
  thead {
    display: table-header-group !important; /* Tabellenkopf auf jeder Seite wiederholen */
    background-color: #f9fafb !important;
  }
  th, td {
    border: 1px solid #ddd !important;
    padding: 4px 6px !important;
    font-size: 8pt !important; /* Kleiner für Tabellen */
  }
  
  /* 11. Text und Links */
  h1 { font-size: 20pt !important; }
  h2 { font-size: 16pt !important; }
  h3 { font-size: 14pt !important; }
  a {
    color: #000 !important;
    text-decoration: none !important;
  }
  a[href]:after {
    content: "" !important; /* Keine URLs anzeigen */
  }
}
/* --- ENDE: PRINT STYLES --- */
